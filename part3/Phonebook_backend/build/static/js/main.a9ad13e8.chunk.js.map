{"version":3,"sources":["components/Person.js","services/persons.js","components/PersonToShowFun.js","components/filterFun.js","components/addPersonFun.js","components/LogMessage.js","components/Notification.js","App.js","index.js"],"names":["Person","person","toggleDelete","name","number","onClick","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","PersonToShowFun","persons","newFilter","showAll","setPersons","setErrorMessage","personToShow","filter","toLowerCase","includes","map","window","confirm","n","personServices","console","log","catch","error","setTimeout","toggleToDelete","filterFun","setNewFilter","setShowAll","value","onChange","event","target","addPersonFun","newName","newNumber","logMessage","setNewName","setNewNumber","setLogMessage","onSubmit","preventDefault","length","find","changedPerson","returnedNote","nameObject","concat","type","LogMessage","className","Notification","message","App","useState","errorMessage","useEffect","initialPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a9ad13e8.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ person, toggleDelete}) => {\r\n  const label = \"delete\"\r\n  return (\r\n    <li>{person.name} {person.number} <button onClick={toggleDelete}>{label}</button></li>\r\n  )\r\n}\r\n\r\nexport default Person","import axios from 'axios'\r\n\r\n\r\nconst baseUrl = 'api/persons'\r\n\r\n\r\nconst getAll = () => {\r\n    const request =  axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n  \r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request =  axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, deletePerson, update}","import Person from './Person'\r\nimport personServices from '../services/persons'\r\n\r\nconst toggleToDelete = (id, name, persons,setPersons, setErrorMessage) => {\r\n    if (window.confirm(`Do you really want to delete ${name}?`)) {\r\n        persons = persons.filter(n => n.id !== id)\r\n        personServices\r\n        .deletePerson(id)\r\n        .then(() => {\r\n          setPersons(persons)\r\n          console.log(persons);\r\n        }).catch(error => {\r\n            setErrorMessage(\r\n              `Person '${name}' was already removed from server`\r\n            )\r\n            setTimeout(() => {\r\n              setErrorMessage(null)\r\n            }, 5000)\r\n            setPersons(persons)\r\n          })\r\n        \r\n    }\r\n}\r\n\r\nconst PersonToShowFun = ({ persons, newFilter, showAll, setPersons, setErrorMessage}) => {\r\n    const personToShow = showAll\r\n        ? persons\r\n        : persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\r\n    return (\r\n        <div>\r\n            <h1>Number</h1>\r\n            <ul>\r\n                {personToShow.map(person =>\r\n                    <Person key={person.id} person={person} toggleDelete={() => toggleToDelete(person.id, person.name, persons, setPersons, setErrorMessage)} />\r\n                )}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonToShowFun","\r\nconst filterFun = ({newFilter, setNewFilter, setShowAll}) => {\r\n\r\n    const handleFilterChange = (event) => {\r\n      console.log(event.target.value === \"\")\r\n      if (event.target.value === \"\") {\r\n        setShowAll(true)\r\n      }\r\n      else {\r\n        setShowAll(false)\r\n      }\r\n      setNewFilter(event.target.value)\r\n    }\r\n  \r\n    return (\r\n      <div>\r\n        <h1>Phonebook</h1>\r\n        <form>\r\n          <div>\r\n            filter shown with: <input value={newFilter} onChange={handleFilterChange} />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default filterFun","import axios from 'axios'\r\nimport personServices from '../services/persons'\r\n\r\nconst addPersonFun = ({ persons, newName, newNumber, logMessage, setPersons, setNewName, setNewNumber, setLogMessage }) => {\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n\r\n    if (persons.filter(person => person.name === newName).length !== 0) {\r\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n        const person = persons.find(n => n.name === newName)\r\n        const changedPerson = { ...person, number: newNumber }\r\n        personServices\r\n          .update(person.id, changedPerson)\r\n          .then(returnedNote => {\r\n            console.log(returnedNote);\r\n            setPersons(persons.map(n => n.name !== newName ? n : returnedNote))\r\n            setNewName('')\r\n            setNewNumber('')\r\n          })\r\n      }\r\n\r\n    }\r\n    else {\r\n      const nameObject = {\r\n        name: newName,\r\n        number: newNumber,\r\n        id: persons.length + 1,\r\n      }\r\n      console.log('logMessage');\r\n      console.log(nameObject.name);\r\n      setLogMessage(\r\n        `Added ${newName}`\r\n      )\r\n      console.log(logMessage);\r\n      setTimeout(() => {\r\n        setLogMessage(null)\r\n      }, 5000)\r\n      personServices\r\n        .create(nameObject)\r\n        .then(response => {\r\n          setPersons(persons.concat(nameObject))\r\n          setNewName('')\r\n          setNewNumber('')\r\n        })\r\n    }\r\n  }\r\n\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>add a new</h1>\r\n\r\n      <form onSubmit={addPerson}>\r\n\r\n        <div>\r\n          name:<input value={newName} onChange={handleNameChange} />\r\n        </div>\r\n        <div>\r\n          number: <input value={newNumber} onChange={handleNumberChange} />\r\n        </div>\r\n\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default addPersonFun","const LogMessage = ({ logMessage }) => {\r\n\r\n    if (logMessage === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"message\">\r\n            {logMessage}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LogMessage","const Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport PersonToShowFun from './components/PersonToShowFun'\r\nimport filterFun from './components/filterFun'\r\nimport addPersonFun from './components/addPersonFun'\r\nimport axios from 'axios'\r\nimport personServices from './services/persons'\r\nimport LogMessage from './components/LogMessage'\r\nimport Notification from './components/Notification'\r\nimport './index.css'\r\nconst App = () => {\r\n\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newFilter, setNewFilter] = useState('')\r\n  const [showAll, setShowAll] = useState(true)\r\n  const [logMessage, setLogMessage] = useState(null)\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n  useEffect(() => {\r\n    console.log('effect')\r\n    personServices\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      {LogMessage ({logMessage})}\r\n      <Notification message={errorMessage} />\r\n      {filterFun({ newFilter, setNewFilter, setShowAll })}\r\n\r\n      {addPersonFun({ persons, newName, newNumber, logMessage, setPersons, setNewName, setNewNumber, setLogMessage})}\r\n\r\n      {PersonToShowFun({ persons, newFilter, showAll, setPersons, setErrorMessage })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}